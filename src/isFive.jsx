import React from 'react';
import './css/style.css'

let renderCount = 0;

export default React.memo(function IsFive({ value }) { // React.memo –¥–µ–ª–∞–µ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∏ –Ω–æ–≤—ã—Ö –ø—Ä–æ–ø—Ä–æ–≤ –µ—Å–ª–∏ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å —Ç–æ —Ä–µ—Ä–µ–Ω–¥–æ—Ä–∞ –Ω–µ –±—É–¥–µ—Ç
    console.warn(`üî¥ isFive render: ${++renderCount}`);

    const getResult = React.useMemo(() => { // –µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–µ–Ω—è–µ—Ç—Å—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ—Ç —Ç–æ–µ—Å—Ç—å 5 –æ—Å—Ç–∞–ª–æ—Å—å, –∞ –æ–±–Ω–æ–≤–∏–ª—Å—è –∫–∞–∫–æ–π-—Ç–æ –¥—Ä—É–≥–æ–π –∫–æ–º–ø–∞–Ω–µ–Ω–µ–Ω—Ç, —Ç–æ useMemo –≤–µ—Ä–Ω—ë—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏–µ 
        let i = 0;
        while (i < 600000000) i++;
        return value === 5 ? '‚úÖ –≠—Ç–æ –ø—è—Ç—å :D' : '‚ùå –≠—Ç–æ –Ω–µ –ø—è—Ç—å :(';
    }, [value]) // –≠—Ç–æ –æ–ø–∏—Ç–∏–º–∏–∑–∞—Ü–∏—è / useMemo - –∂—Ç–æ —Ö—É–∫ –∫–æ—Ç–æ—Ä—ã–º –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–æ–∂–Ω—É—é–ª–æ–≥–∏–∫—É —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞ –∫–æ–≥–¥–∞ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

    return <h3>{getResult}</h3>; // –º—ã –Ω–µ –º–æ–∂–µ–º –≤–µ—Ä–Ω—É—Ç–∏—å —Ñ—É–Ω–∫—Ü–∏—é getResult() —Ç.–∫. useMemo  —Å—Ç—Ä–æ—á–∫—É
}, (prevProps, nextProps) => { // –º—ã –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ–º —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é —Ç–æ –±—É–¥–µ—Ç –ø–æ–≤–µ—Ä—Ö–æ—Å—Ç—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (shalow equal) 
    if(nextProps.value === 5) { // –¥–µ–ª–∞—Ç—å —Ä–µ—Ä–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ value = 5 
        return false
    } else {
        return true
    }
})
